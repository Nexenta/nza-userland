.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "APT-FILE" "1" "24 July 2011" "" ""

.SH NAME
apt-file \- APT package searching utility -- command-line interface
.SH SYNOPSIS

\fBapt-file\fR [ \fBoptions\fR ] [ \fBaction\fR ] [ \fBpattern\fR ]


\fBapt-file\fR\fB -f\fR [ \fBoptions\fR ]\fB search\fR [ \fBfile ...\fR ]


\fBapt-file\fR\fB -D\fR [ \fBoptions\fR ]\fB search\fR [ \fBbinary-packet.deb ...\fR ]

.SH "DESCRIPTION"
.PP
\fBapt-file\fR is a command line tool for
searching files in packages for the APT package management system.
.PP
Some actions are required to run the search:
.TP
\fBupdate\fR
Resynchronize the package contents from their sources. The
lists of the contents of packages are fetched from the location(s)
specified in
\fI/etc/apt/sources.list\fR\&. This command
attempts to fetch the
\fIContents-<ARCH>\&.gz\fR files from
remote sources. For downloading these uses either the curl or
wget commands as specified in \fIapt-file.conf\fR\&.
.TP
\fBsearch\fR
Search in which package a file is included. A list of all
packages containing the \fBpattern\fR pattern
is returned.

apt-file will only search for filenames, not directory names.
This is due to the format of the Contents files it searches.
.TP
\fBfind\fR
Alias for \fBsearch\fR\&.
.TP
\fBlist\fR
List the contents of a package matching the
\fBpattern\fR pattern. This action is very
close to the \fBdpkg -L\fR command except the
package does not need to be installed or fetched.
.TP
\fBshow\fR
Alias for \fBlist\fR\&.
.TP
\fBpurge\fR
remove all \fIContents-*\fR
files from the cache directory.
.SH "OPTIONS"
.TP
\fB   --cache | -c cache-directory \fR
Sets the cache directory to \fIcache-directory\fR
instead of its default. If executed as non-root user, the default
is \fI$HOME/.cache/apt-file\fR with fall-back to
\fI/var/cache/apt/apt-file\fR\&. The latter is also
the default if apt-file is called as root.
.TP
\fB   --verbose | -v \fR
Run \fBapt-file\fR in verbose mode.
.TP
\fB   --cdrom-mount | -d cdrom-mount-point \fR
Use cdrom-mount-point instead of
\fBapt\fR\&'s.
.TP
\fB   --non-interactive | -N \fR
Skip schemes that are listed in the interactive line in
\fIapt-file.conf\fR\&.
This is useful if you want to call 'apt-file update' in cron jobs and skip all
schemes that may require user input. 
.TP
\fB   --ignore-case | -i \fR
Ignore case when searching for pattern\&.
.TP
\fB   --regexp | -x \fR
Treat pattern as a (perl) regular expression. See
\fBperlreref\fR(1) for details. Without this option,
pattern is treated as a literal string to search
for.
.TP
\fB   --architecture | -a architecture \fR
Sets architecture to architecture\&. This
option is useful if you search a package for a different
architecture from the one installed on your system.
It determines how the $ARCH variable
in sources.list is expanded (but it does not influence
the search in any other way).
.TP
\fB   --sources-list | -s sources.list \fR
Sets the \fIsources.list\fR file to a
different value from its default
\fI/etc/apt/sources.list\fR\&.
.TP
\fB   --package-only | -l \fR
Only display package name; do not display file names.
.TP
\fB   --from-file | -f \fR
Read patterns from the given file(s), one per line.
Use \fB-f - for stdin.
This is much faster than invoking apt-file many times.
\fR
.TP
\fB   --from-deb | -D \fR
Use contents of the given .deb archives(s) as patterns.
Useful for searching for file conflicts with other packages.
Implies \fB-F\fR\&.
.TP
\fB   --fixed-string | -F \fR
Do not expand search pattern with generic characters at
pattern's start and end.
.TP
\fB   --dummy | -y \fR
Run in dummy mode (no action).
.TP
\fB   --help | -h \fR
Display a short help screen.
.SH "CONFIGURATION FILE"
.PP
The \fBapt-file\fR configuration file can
be found in \fI/etc/apt/apt-file.conf\fR\&.
.PP
A string expansion is done on several values. See the string
expansion section.
.TP
\fBdestination\fR
This variable describes how cached files will be named.
.TP
\fBhttp | ftp | ssh | rsh | file | cdrom\fR
Defines the commands used to fetch files.
.SS "STRING EXPANSION"
.PP
A \fIsources.list\fR entry is defined as:

.nf
	  deb uri dist component1 component2 ...
	
.fi
A uri is defined as:

.nf
	  proto:/[/][user[:password]@]host[:port][/path]
	
.fi
.TP
\fB<host>\fR
replace with the hostname
.TP
\fB<port>\fR
replace with the port number
.TP
\fB<uri>\fR
replace with full uri
.TP
\fB<path>\fR
replace with full path (relative to / on the host)
.TP
\fB<dist>\fR
replace with distribution name
.TP
\fB<comp>\fR
replace with component name
.TP
\fB<cache>\fR
replace with cache directory
.TP
\fB<dest>\fR
replace with destination expanded
value.
.TP
\fB<cdrom>\fR
replace with cdrom-mount-point\&.
.SH "FILES"
.TP
\fB\fI/etc/apt/sources.list\fB\fR
Locations to fetch package contents from.
.TP
\fB\fI/etc/apt/sources.list.d/\fB\fR
Directory with additional sources.list snippets
.TP
\fB\fI/etc/apt/apt-file.conf\fB\fR
Configuration file for \fBapt-file\fR\&.
.SH "SEE ALSO"
.PP
\fBauto-apt\fR(1), \fBapt-cache\fR(8),
\fBapt-cdrom\fR(8), \fBdpkg\fR(8),
\fBdselect\fR(8),
\fIsources.list\fR(5),
\fIapt.conf\fR(5),
\fBapt_preferences\fR(5).
.PP
The APT users guide in
\fI/usr/share/doc/apt/\fR
.SH "BUGS"
.PP
The cdrom backend has not been tested.
.PP
Non-release lines in sources.list are not handled by apt-file.
.PP
There is only one Contents file per distribution that contains all
components (i.e. main, contrib, and non-free). Threrefore, apt-file will
display search results from all components, even if not all components
are included in the sources.list file.
.PP
When a new line has been added to the sources.list and apt-file update has
not been run, apt-file does not print a warning message.
.PP
Complex regular expressions that match the leading slash may not work
correctly. As a workaround, try to pull the leading slash to the beginning
of the regular expression. For example, use "/(usr/bin/vim|sbin/lvm)"
instead of "/usr/bin/vim|/sbin/lvm".
.SH "AUTHOR"
.PP
\fBapt-file\fR was written by Sebastien J. Gross
<sjg@debian.org>\&.
