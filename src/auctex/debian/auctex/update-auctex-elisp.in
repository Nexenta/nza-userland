#include "variables"
#! /bin/bash -e
#
# Update AUCTeX auto-loads.
# Installed by the Debian <:=${PACKAGE}:> package.
#
<:=@COPYRIGHT:>//

set -o posix

<:# Default flavors: only GNU, XEmacs comes with its own AUCTeX. :>//
FLAVORS=${*:-"emacs21 emacs22 emacs23 emacs-snapshot"}

for FLAVOR in ${FLAVORS}; do
    if [ -x /usr/bin/${FLAVOR} ]; then
	${FLAVOR} --no-site-file --no-init-file --batch \
		  --load=<:=if($_=${lisp})=~s|emacs|\${FLAVOR}|:>/../tex-site.el \
		  --funcall=TeX-auto-generate-global
    fi
done

<:# save space, keep only byte compiled style files :>//
find <:=${var}:> -type f -name \*.el -print0 | xargs -0 rm -f
<:
# local variables:
# mode: shell-script
# ispell-local-dictionary: "american"
# ispell-check-comments: exclusive
# end:
#
# LocalWords:  AUCTeX
:>//
