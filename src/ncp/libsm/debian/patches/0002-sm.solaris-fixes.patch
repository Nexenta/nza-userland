--- ./src/sm_genid.c.bak	2011-08-01 19:34:52.595984635 +0100
+++ ./src/sm_genid.c	2011-08-01 19:36:00.089441868 +0100
@@ -114,8 +114,11 @@
 
     temp[0] = '2';
     temp[1] = '\0';
+#ifdef __sun
+    uuid_unparse(uuid, &temp[1]);
+#else
     uuid_unparse_lower(uuid, &temp[1]);
-
+#endif
     if ((id = malloc (strlen (temp) + 1)) != NULL)
 	strcpy (id, temp);
 
