Index: dpkg/lib/dpkg/vercmp.c
===================================================================
--- dpkg.orig/lib/dpkg/vercmp.c	2011-09-08 16:09:58.966079573 +0400
+++ dpkg/lib/dpkg/vercmp.c	2011-09-08 19:08:50.356190891 +0400
@@ -70,7 +70,15 @@
 
 int versioncompare(const struct versionrevision *version,
                    const struct versionrevision *refversion) {
-  int r;
+  int r, a, b;
+
+  a = strncmp(version->version, "40-", 3);
+  b = strncmp(refversion->version, "40-", 3);
+
+  if ( ((a == 0) && version->epoch == 0) && ((b != 0) || refversion->epoch != 0) )
+      return 1;
+  if ( ((a != 0) || version->epoch != 0) && ((b == 0) && refversion->epoch == 0) )
+      return -1;
 
   if (version->epoch > refversion->epoch) return 1;
   if (version->epoch < refversion->epoch) return -1;
